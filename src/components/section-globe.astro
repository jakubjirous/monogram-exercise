---
import { getImage } from "@astrojs/image";
import Section from "./section.astro";

import glow from "../assets/bg-glow.png";
const optimizedGlow = await getImage({
	src: glow,
	format: "webp",
	alt: "Background glow",
});
---

<Section class="globe">
	<div
		class="globe-spline"
		style={`background-image: url(${optimizedGlow.src});`}
	>
		<canvas id="spline3d"></canvas>
	</div>
</Section>

<script is:inline>
	import { Application } from "@splinetool/runtime";

	const canvas = document.getElementById("spline3d");
	const app = new Application(canvas);
	app.load("https://prod.spline.design/Q8gJIB6FoodYWF3w/scene.splinecode");
</script>
